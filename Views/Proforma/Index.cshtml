@model IEnumerable<App_AngelaStore.Models.Proforma>

@{
    ViewData["Title"] = "Index";
}
<p> </p>
<p> </p>
<div class="container" >
  
    <div class="section-title" style="text-align: center;">
        <h1 data-aos="fade-in" ><strong style="font-family: Georgia, Times, Times New Roman, serif;color:#000000">Carrito de Compras</strong> </h1>
        <h6 data-aos="fade-in" style="font-family: Georgia, Times, Times New Roman, serif;">Verifique sus prendas y cantidad a pagar</h6>
		<p> </p>
    </div>
</div>

<table class="table table-hover" style="text-align: center;">
    <tbody>
        <thead class="tables" style="background: black;" >
            <tr style="color: white;">
                <th scope="col">
                Imagen  
                </th>
                <th scope="col">
                Nombre  
                </th>

                <th scope="col">
                Cantidad
                </th>

                <th scope="col">
                Precio Unit
                </th>

                <th scope="col">
                Sub Total
                </th>

                <th scope="col" sty>
                Opciones
                </th>     
            </tr>
        </thead>
        
        @foreach (var item in Model) {
            
            <tr>
                <td>
                    <img class="card img;border border-dark" width="170" height="200" style="margin-left: 20%;"
                    src="@item.Producto.imagen" alt="@item.Producto.imagen"  />

                </td>
                <td style="color:#000000;font-family:Rockwell, Courier Bold, Courier, Georgia, Times, Times New Roman, serif">
                    @Html.DisplayFor(modelItem => item.Producto.Marca)
                </td>

                <td style="color:#000000;font-family:Rockwell, Courier Bold, Courier, Georgia, Times, Times New Roman, serif">
                    @Html.DisplayFor(modelItem => item.Stock)
                </td>

                <td style="color:#000000;font-family:Rockwell, Courier Bold, Courier, Georgia, Times, Times New Roman, serif">
                    S/.
                    @Html.DisplayFor(modelItem => item.Precio)
                </td>

                @{
                    Decimal total1 = 0;
                total1 =   item.Precio*item.Stock;
                }
                <td>
                    <strong style="color:#000000;font-family:Rockwell, Courier Bold, Courier, Georgia, Times, Times New Roman, serif">
                    S/.
                    @Html.DisplayFor(modelItem => total1)
                    </strong>
                </td>
                
                <td style="text-align: center;">
                    <a asp-action="Edit" class="btn btn-dark"  style="background: #444444;color-border:#32502E"  asp-route-id="@item.Id">Editar</a>
                    <a asp-action="Delete" class="btn btn-danger"   style="background: #8E0505;color-border:#3D0000" asp-route-id="@item.Id">Eliminar</a>
                </td>
            </tr>
            }
        <main>
        <hr />
        @{
            Decimal total = 0;
            var contar = 0;
        }
        @foreach (var item in Model){
         <tr>
            @{
               total = total + item.Precio*item.Stock;
               contar++;
            }
         </tr>}
        <div id="carrito" class="table-responsive">
            <table class="table" id="lista-compra">
                <thead>                    
                </thead>                                 
                <hr /><p> </p>
                <tr>                                  
                <span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Disabled popover" style=" margin-left:35%;">  
                    <h2  style="color:#000000;font-family:Rockwell, Courier Bold, Courier, Georgia, Times, Times New Roman, serif">Total a pagar: S/. @total</h2>
                </span>
                </tr>
            </table>
        </div><p> </p>
                        <div class="row justify-content-around" style=" margin-left:15%;" >
                            <div class="col-xs-12 col-md-4" >
                                <a href="~/Catalogo" class="btn btn-primary" style="width:150px;border-color:#091353;border-top-width:10px ;"><img src="~/img/catalogo.png"class="carrito" width="55"><p>Regresar al Catalgo</p></a>
                            </div>
                            <div class="col-xs-12 col-md-4">
                                
                               <a href="~/Pro" class="btn btn-warning " style="width:150px;border-color:#D98C00;border-top-width:10px ; "><img src="~/img/AS.png"class="carrito" width="55"><p>Ir a Pago</p></a>
                            </div>
                        </div>
                        <p> </p>
                        <p> </p>
                        <p> </p>
                        
                </div>
            </div>
        </div>
    </main>
        </tbody>
</table>

